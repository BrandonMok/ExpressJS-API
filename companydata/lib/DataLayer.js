var a=['getDepartmentNo','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_no\x20=\x20?\x20AND\x20company\x20=\x20?','insertDepartment','INSERT\x20INTO\x20department\x20(company,\x20dept_name,\x20dept_no,\x20location\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','insertId','updateDepartment','UPDATE\x20department\x20SET\x20dept_name\x20=\x20?,\x20dept_no\x20=\x20?,\x20location\x20=\x20?\x20WHERE\x20dept_id\x20=\x20?','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?','deleteDepartment','DELETE\x20from\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?','affectedRows','insertEmployee','hire_date','INSERT\x20INTO\x20employee\x20(emp_name,\x20emp_no,\x20hire_date,\x20job,\x20salary,\x20dept_id,\x20mng_id\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','emp_name','emp_no','job','salary','mng_id','SELECT\x20*\x20FROM\x20employee\x20WHERE\x20emp_id\x20=\x20?','toISOString','emp_id','getAllEmployee','SELECT\x20*\x20FROM\x20employee\x20LEFT\x20JOIN\x20department\x20USING(dept_id)\x20WHERE\x20department.company\x20=\x20?','getEmployee','updateEmployee','deleteEmployee','DELETE\x20from\x20employee\x20WHERE\x20emp_id\x20=\x20?','insertTimecard','start_time','split','end_time','SELECT\x20*\x20FROM\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','YYYY-MM-DD\x20HH:mm:ss','getAllTimecard','timecard_id','getTimecard','UPDATE\x20timecard\x20SET\x20start_time\x20=\x20?,\x20end_time\x20=\x20?\x20WHERE\x20timecard_id\x20=\x20?','deleteTimecard','DELETE\x20from\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','exports','constructor','while\x20(true)\x20{}','counter','debu','gger','call','action','stateObject','apply','function\x20*\x5c(\x20*\x5c)','\x5c+\x5c+\x20*(?:_0x(?:[a-f0-9]){4,6}|(?:\x5cb|\x5cd)[a-z0-9]{1,4}(?:\x5cb|\x5cd))','init','test','chain','input','return\x20(function()\x20','{}.constructor(\x22return\x20this\x22)(\x20)','console','log','warn','debug','exception','info','sync-mysql','./department','./employee','./timecard','undefined','DataLayer\x20needs\x20to\x20be\x20called\x20with\x20the\x20new\x20keyword\x20and\x20with\x20a\x20company','companyDB','576','prototype','Department','Employee','Timecard','match','getTime','slice','validateTime','([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])','deleteCompany','date-fns/format','length','n/a','mgr\x20delete','YYYY-MM-DD','delete','dept_id','getId','setMngId','getAllDepartment','connection','query','SELECT\x20*\x20FROM\x20department\x20WHERE\x20company\x20=\x20?','map','company','dept_name','getDepartment','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?','dept_no','location'];(function(c,d){var e=function(f){while(--f){c['push'](c['shift']());}};var g=function(){var h={'data':{'key':'cookie','value':'timeout'},'setCookie':function(i,j,k,l){l=l||{};var m=j+'='+k;var n=0x0;for(var n=0x0,p=i['length'];n<p;n++){var q=i[n];m+=';\x20'+q;var r=i[q];i['push'](r);p=i['length'];if(r!==!![]){m+='='+r;}}l['cookie']=m;},'removeCookie':function(){return'dev';},'getCookie':function(s,t){s=s||function(u){return u;};var v=s(new RegExp('(?:^|;\x20)'+t['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var w=function(x,y){x(++y);};w(e,d);return v?decodeURIComponent(v[0x1]):undefined;}};var z=function(){var A=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return A['test'](h['removeCookie']['toString']());};h['updateCookie']=z;var B='';var C=h['updateCookie']();if(!C){h['setCookie'](['*'],'counter',0x1);}else if(C){B=h['getCookie'](null,'counter');}else{h['removeCookie']();}};g();}(a,0x1c9));var b=function(c,d){c=c-0x0;var e=a[c];return e;};var f=function(){var c=!![];return function(d,e){var f=c?function(){if(e){var g=e['apply'](d,arguments);e=null;return g;}}:function(){};c=![];return f;};}();var aZ=f(this,function(){var c=function(){return'\x64\x65\x76';},d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var e=function(){var f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!f['\x74\x65\x73\x74'](c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var g=function(){var h=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return h['\x74\x65\x73\x74'](d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var i=function(j){var k=~-0x1>>0x1+0xff%0x0;if(j['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===k)){l(j);}};var l=function(m){var n=~-0x4>>0x1+0xff%0x0;if(m['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==n){i(m);}};if(!e()){if(!g()){i('\x69\x6e\x64\u0435\x78\x4f\x66');}else{i('\x69\x6e\x64\x65\x78\x4f\x66');}}else{i('\x69\x6e\x64\u0435\x78\x4f\x66');}});aZ();var e=function(){var h=!![];return function(i,j){var k=h?function(){if(j){var l=j[b('0x0')](i,arguments);j=null;return l;}}:function(){};h=![];return k;};}();(function(){e(this,function(){var m=new RegExp(b('0x1'));var n=new RegExp(b('0x2'),'i');var o=d(b('0x3'));if(!m[b('0x4')](o+b('0x5'))||!n['test'](o+b('0x6'))){o('0');}else{d();}})();}());var c=function(){var p=!![];return function(q,r){var s=p?function(){if(r){var t=r[b('0x0')](q,arguments);r=null;return t;}}:function(){};p=![];return s;};}();var g=c(this,function(){var u=function(){};var v=function(){var w;try{w=Function(b('0x7')+b('0x8')+');')();}catch(x){w=window;}return w;};var y=v();if(!y['console']){y[b('0x9')]=function(u){var A={};A[b('0xa')]=u;A[b('0xb')]=u;A[b('0xc')]=u;A['info']=u;A['error']=u;A[b('0xd')]=u;A['trace']=u;return A;}(u);}else{y[b('0x9')][b('0xa')]=u;y[b('0x9')][b('0xb')]=u;y[b('0x9')]['debug']=u;y[b('0x9')][b('0xe')]=u;y[b('0x9')]['error']=u;y['console'][b('0xd')]=u;y['console']['trace']=u;}});g();'use strict';var MySql=require(b('0xf'));var Department=require(b('0x10'));var Employee=require(b('0x11'));var Timecard=require(b('0x12'));var DataLayer=function(B){if(!(this instanceof DataLayer)||typeof B===b('0x13')){throw new Error(b('0x14'));}this[b('0x15')]=B+'_company';this['connection']=new MySql({'host':'bdfvks-docker.ist.rit.edu','user':b('0x16'),'password':b('0x16'),'database':this[b('0x15')]});};DataLayer[b('0x17')][b('0x18')]=require(b('0x10'));DataLayer['prototype'][b('0x19')]=require(b('0x11'));DataLayer[b('0x17')][b('0x1a')]=require(b('0x12'));DataLayer[b('0x17')]['isValidDate']=function isValidDate(C){var D=/^\d{4}-\d{2}-\d{2}$/;if(!C[b('0x1b')](D))return![];var E=new Date(C);if(!E['getTime']()&&E[b('0x1c')]()!==0x0)return![];return E['toISOString']()[b('0x1d')](0x0,0xa)===C;};DataLayer[b('0x17')][b('0x1e')]=function validateTime(F){var G=new RegExp(b('0x1f'));if(G['test'](F)){return!![];}else{return![];}};DataLayer[b('0x17')][b('0x20')]=function(H){const I=require(b('0x21'));if(!H||H[b('0x22')]===0x0||/^\s*$/[b('0x4')](H)){H=b('0x23');}var J=0x0;var K=getAllDepartment(H);var L=getAllEmployee(H);if(L[b('0x22')]>0x0){var M=new Employee(b('0x24'),b('0x24'),I(new Date(),b('0x25')),b('0x26'),0x0,L[0x0][b('0x27')],null,null);M=insertEmployee(M);var N=M[b('0x28')]();for(var O of L){if(O[b('0x28')]()!=N){O[b('0x29')](N);updateEmployee(O);var P=getAllTimecard(O['getId']());for(var Q of P){deleteTimecard(Q[b('0x28')]());J++;}}}L=getAllEmployee(H);for(var O of L){if(O['getId']()!=N){deleteEmployee(O['getId']());J++;}}deleteEmployee(N);J++;}for(var S of K){deleteDepartment(H,S[b('0x28')]());J++;}return J;};DataLayer[b('0x17')][b('0x2a')]=function(T){if(!T||T[b('0x22')]===0x0||/^\s*$/[b('0x4')](T)){T=b('0x23');}var U=this[b('0x2b')][b('0x2c')](b('0x2d'),[T]);return U[b('0x2e')](V=>new Department(V[b('0x2f')],V[b('0x30')],V['dept_no'],V['location'],V[b('0x27')]));};DataLayer[b('0x17')][b('0x31')]=function(W,X){if(!X||!W)return null;var Y=this[b('0x2b')]['query'](b('0x32'),[X,W]);if(Y[b('0x22')]==0x1){return new Department(Y[0x0][b('0x2f')],Y[0x0]['dept_name'],Y[0x0][b('0x33')],Y[0x0][b('0x34')],Y[0x0][b('0x27')]);}else{return null;}};DataLayer[b('0x17')][b('0x35')]=function(Z,a0){if(!a0||!Z)return null;var a1=this[b('0x2b')][b('0x2c')](b('0x36'),[a0,Z]);if(a1['length']==0x1){return new Department(a1[0x0][b('0x2f')],a1[0x0][b('0x30')],a1[0x0][b('0x33')],a1[0x0][b('0x34')],a1[0x0]['dept_id']);}else{return null;}};DataLayer[b('0x17')][b('0x37')]=function(a2){try{var a3=this[b('0x2b')][b('0x2c')](b('0x38'),[a2[b('0x2f')],a2[b('0x30')],a2[b('0x33')],a2[b('0x34')]]);a3=this['connection'][b('0x2c')]('SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?',[a3[b('0x39')]]);return new Department(a3[0x0][b('0x2f')],a3[0x0][b('0x30')],a3[0x0][b('0x33')],a3[0x0][b('0x34')],a3[0x0]['dept_id']);}catch(a4){console[b('0xa')](a4);return null;}};DataLayer[b('0x17')][b('0x3a')]=function(a5){try{var a6=this[b('0x2b')][b('0x2c')](b('0x3b'),[a5[b('0x30')],a5[b('0x33')],a5['location'],a5[b('0x27')]]);a6=this['connection'][b('0x2c')](b('0x3c'),[a5[b('0x27')]]);if(a6[b('0x22')]==0x1){return new Department(a6[0x0]['company'],a6[0x0][b('0x30')],a6[0x0][b('0x33')],a6[0x0][b('0x34')],a6[0x0][b('0x27')]);}else{return null;}}catch(a7){console[b('0xa')](a7);return null;}};DataLayer['prototype'][b('0x3d')]=function(a8,a9){try{var aa=this['connection'][b('0x2c')](b('0x3e'),[a9,a8]);return aa[b('0x3f')];}catch(ab){console[b('0xa')](ab);return 0x0;}};DataLayer['prototype'][b('0x40')]=function(ac){if(!ac[b('0x41')]||!isValidDate(ac[b('0x41')])){return null;}try{var ad=this['connection'][b('0x2c')](b('0x42'),[ac[b('0x43')],ac[b('0x44')],ac['hire_date'],ac[b('0x45')],ac[b('0x46')],ac['dept_id'],ac[b('0x47')]]);ad=this[b('0x2b')][b('0x2c')](b('0x48'),[ad[b('0x39')]]);var ae=new Date(ad[0x0]['hire_date']);var af=ae[b('0x49')]()[b('0x1d')](0x0,0xa);return new Employee(ad[0x0]['emp_name'],ad[0x0][b('0x44')],af,ad[0x0][b('0x45')],ad[0x0][b('0x46')],ad[0x0]['dept_id'],ad[0x0][b('0x47')],ad[0x0][b('0x4a')]);}catch(ag){console[b('0xa')](ag);return null;}};DataLayer[b('0x17')][b('0x4b')]=function(ah){if(!ah||ah[b('0x22')]===0x0||/^\s*$/[b('0x4')](ah)){ah=b('0x23');}var ai=this[b('0x2b')][b('0x2c')](b('0x4c'),[ah]);return ai[b('0x2e')](aj=>{var ak=new Date(aj[b('0x41')]);var al=ak[b('0x49')]()[b('0x1d')](0x0,0xa);return new Employee(aj['emp_name'],aj['emp_no'],al,aj[b('0x45')],aj[b('0x46')],aj[b('0x27')],aj[b('0x47')],aj[b('0x4a')]);});};DataLayer[b('0x17')][b('0x4d')]=function(am){if(!am)return null;var an=this[b('0x2b')][b('0x2c')](b('0x48'),[am]);if(an[b('0x22')]==0x1){var ao=new Date(an[0x0][b('0x41')]);var ap=ao['toISOString']()[b('0x1d')](0x0,0xa);return new Employee(an[0x0][b('0x43')],an[0x0][b('0x44')],ap,an[0x0][b('0x45')],an[0x0][b('0x46')],an[0x0][b('0x27')],an[0x0][b('0x47')],an[0x0][b('0x4a')]);}else{return null;}};DataLayer['prototype'][b('0x4e')]=function(aq){if(!aq[b('0x41')]||!isValidDate(aq[b('0x41')])){return null;}try{var ar=this[b('0x2b')][b('0x2c')]('UPDATE\x20employee\x20SET\x20emp_name\x20=\x20?,\x20emp_no\x20=\x20?,\x20hire_date\x20=\x20?,\x20job\x20=\x20?,\x20salary\x20=\x20?,\x20dept_id\x20=\x20?,\x20mng_id\x20=\x20?\x20WHERE\x20emp_id\x20=\x20?',[aq[b('0x43')],aq[b('0x44')],aq[b('0x41')],aq[b('0x45')],aq[b('0x46')],aq[b('0x27')],aq[b('0x47')],aq['emp_id']]);ar=this[b('0x2b')][b('0x2c')](b('0x48'),[aq[b('0x4a')]]);if(ar[b('0x22')]==0x1){var as=new Date(ar[0x0][b('0x41')]);var at=as[b('0x49')]()[b('0x1d')](0x0,0xa);return new Employee(ar[0x0][b('0x43')],ar[0x0]['emp_no'],at,ar[0x0][b('0x45')],ar[0x0][b('0x46')],ar[0x0]['dept_id'],ar[0x0][b('0x47')],ar[0x0]['emp_id']);}else{return null;}}catch(au){console[b('0xa')](au);return null;}};DataLayer[b('0x17')][b('0x4f')]=function(av){try{var aw=this[b('0x2b')][b('0x2c')](b('0x50'),[av]);return aw[b('0x3f')];}catch(ax){console[b('0xa')](ax);return 0x0;}};DataLayer['prototype'][b('0x51')]=function(ay){const az=require('date-fns/format');var aA=ay[b('0x52')][b('0x53')]('\x20');if(!isValidDate(aA[0x0])||!validateTime(aA[0x1])){return null;}var aB=ay[b('0x54')]['split']('\x20');if(!isValidDate(aB[0x0])||!validateTime(aB[0x1])){return null;}try{var aC=this[b('0x2b')][b('0x2c')]('INSERT\x20INTO\x20timecard\x20(start_time,\x20end_time,\x20emp_id\x20)\x20VALUES\x20(?,\x20?,\x20?)',[ay['start_time'],ay[b('0x54')],ay['emp_id']]);aC=this[b('0x2b')][b('0x2c')](b('0x55'),[aC[b('0x39')]]);return new Timecard(az(aC[0x0][b('0x52')],'YYYY-MM-DD\x20HH:mm:ss'),az(aC[0x0][b('0x54')],b('0x56')),aC[0x0]['emp_id'],aC[0x0]['timecard_id']);}catch(aD){console[b('0xa')](aD);return null;}};DataLayer[b('0x17')][b('0x57')]=function(aE){const aF=require(b('0x21'));var aG=this['connection'][b('0x2c')]('SELECT\x20*\x20FROM\x20timecard\x20where\x20emp_id\x20=\x20?',[aE]);return aG[b('0x2e')](aH=>new Timecard(aF(aH[b('0x52')],'YYYY-MM-DD\x20HH:mm:ss'),aF(aH['end_time'],b('0x56')),aH[b('0x4a')],aH[b('0x58')]));};DataLayer[b('0x17')][b('0x59')]=function(aI){const aJ=require(b('0x21'));if(!aI)return null;var aK=this[b('0x2b')][b('0x2c')](b('0x55'),[aI]);if(aK[b('0x22')]==0x1){return new Timecard(aJ(aK[0x0]['start_time'],b('0x56')),aJ(aK[0x0][b('0x54')],b('0x56')),aK[0x0][b('0x4a')],aK[0x0][b('0x58')]);}else{return null;}};DataLayer[b('0x17')]['updateTimecard']=function(aL){const aM=require(b('0x21'));var aN=aL[b('0x52')]['split']('\x20');if(!isValidDate(aN[0x0])||!validateTime(aN[0x1])){return null;}var aO=aL[b('0x54')]['split']('\x20');if(!isValidDate(aO[0x0])||!validateTime(aO[0x1])){return null;}try{var aP=this[b('0x2b')]['query'](b('0x5a'),[aL['start_time'],aL[b('0x54')],aL[b('0x58')]]);aP=this[b('0x2b')][b('0x2c')](b('0x55'),[aL[b('0x58')]]);if(aP[b('0x22')]==0x1){return new Timecard(aM(aP[0x0][b('0x52')],b('0x56')),aM(aP[0x0][b('0x54')],'YYYY-MM-DD\x20HH:mm:ss'),aP[0x0][b('0x4a')],aP[0x0][b('0x58')]);}else{return null;}}catch(aQ){console[b('0xa')](aQ);return null;}};DataLayer['prototype'][b('0x5b')]=function(aR){try{var aS=this[b('0x2b')][b('0x2c')](b('0x5c'),[aR]);return aS[b('0x3f')];}catch(aT){console[b('0xa')](aT);return 0x0;}};module[b('0x5d')]=DataLayer;function d(aU){function aV(aW){if(typeof aW==='string'){return function(aX){}[b('0x5e')](b('0x5f'))[b('0x0')](b('0x60'));}else{if((''+aW/aW)[b('0x22')]!==0x1||aW%0x14===0x0){(function(){return!![];}['constructor'](b('0x61')+b('0x62'))[b('0x63')](b('0x64')));}else{(function(){return![];}[b('0x5e')]('debu'+'gger')[b('0x0')](b('0x65')));}}aV(++aW);}try{if(aU){return aV;}else{aV(0x0);}}catch(aY){}}